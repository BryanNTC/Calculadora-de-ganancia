<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Calculadora de ganancia</title>
	<style>
		* {
			box-sizing: border-box;
		}

		body {
			background-image: url(media/SilksongPromo2.png);
			background-repeat: round;
			background-size: cover;
			background-attachment: fixed;
			color: white;
		}

		.contenedor {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background: black;
			border: solid white;
			opacity: 90%;
			border-radius: 10px;
			padding: 30px;
			width: fit-content;
			zoom: calc(100% * 5 / 3);
			max-width: 90%;
		}

		.contenedor div {
			margin: 10px;
		}

		input[type="time"] {
			padding: 1px;
		}

		input[type="time"]::-webkit-calendar-picker-indicator {
			display: none;
		}

		input[type="number"]::-webkit-inner-spin-button {
			display: none;
		}

		#ganancia {
			display: none;
			text-align: center;
			font-size: 22px;
		}

		audio {
			position: fixed;
			bottom: 1px;
			right: 1px;
		}

		@media (orientation: portrait) {
			body {
				background-image: url(media/SilksongPromo1.png);
			}

			.contenedor {
				zoom: 100%;
			}

			.contenedor :not(.botones, .botones *) {
				display: grid;
				justify-items: center;
			}

			span {
				font-size: 6vw;
				text-align: center;
			}
		}
	</style>
	<script>
		function calculadoraDeGanancia() {
			const sueldoporhora = 19364 / 200
			let tiempoabierto = document.getElementById("tiempoAbierto").valueAsNumber / (3.6 * Math.pow(10, 6))
			let tiempotrabajado = document.getElementById("tiempoTrabajado").valueAsNumber / (3.6 * Math.pow(10, 6))
			let quiniela = document.getElementById("quiniela").value
			let ganancia = Math.round((tiempotrabajado * sueldoporhora) + (tiempotrabajado * quiniela) / tiempoabierto)
			if (ganancia) {
				document.getElementById("ganancia").innerHTML = "Tu ganancia de hoy es: $" + ganancia
			} else {
				document.getElementById("ganancia").innerHTML = "¡Error!"
			}
			document.getElementById("ganancia").style.display = "block"
		}
		const sonidos = [new Audio("media/garava.mp3"), new Audio("media/ediro.mp3"), new Audio("media/egale.mp3"), new Audio("media/gitgud.mp3")]
		function randomNumberGenerator() {
			return Math.floor(Math.random() * sonidos.length)
		}
		let num = randomNumberGenerator()
		let numUsado
		function hornetSounds() {
			if (num !== numUsado) {
				sonidos[num].play()
				numUsado = num
			} else {
				num = randomNumberGenerator()
				hornetSounds()
			}
		}
	</script>
</head>

<body>
	<div class="contenedor">
		<form>
			<div>
				<span>¿Cuánto se abrió el almacén?</span>
				<input type="time" id="tiempoAbierto" ondblclick="this.showPicker()">
			</div>
			<div>
				<span>¿Cuánto trabajaste?</span>
				<input type="time" id="tiempoTrabajado" ondblclick="this.showPicker()">
			</div>
			<div>
				<span>¿Cuánta ganancia se hizo de Quiniela?</span>
				<div class="botones">
					<input type="number" id="quiniela" placeholder="Ganancia">
					<br>
					<input type="submit" onclick="event.preventDefault(), calculadoraDeGanancia(), hornetSounds()">
					<input type="reset" onclick="hornetSounds()">
				</div>
			</div>
		</form>
		<strong id="ganancia"></strong>
	</div>
	<audio controls>
		<source src="media/Nightmare King Hollow Knight The Grimm Troupe.mp3">
	</audio>
</body>

</html>
