<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Calculadora de ganancia</title>
	<style>
		body {
			background-image: url(media/hollow-knight-silksong-4k-wallpaper-154a.jpg);
			background-repeat: round;
			background-size: 100%;
			background-attachment: fixed;
			color: white;
		}

		form {
			margin: 0;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background: black;
			border: 1px solid white;
			opacity: 0.9;
			border-radius: 5px;
			padding: 40px;
		}

		table,
		table * {
			border: 1px solid white;
			font-size: 2vw;
		}

		th {
			text-align: left;
		}

		#ganancia {
			display: none;
			text-align: center;
			font-size: 4vw;
		}

		audio {
			position: fixed;
			bottom: 1%;
			right: 1%;
		}
	</style>
	<script>
		function calculadoradeganancia() {
			const sueldoporhora = 19364 / 200
			let tiempoabierto = Number(document.getElementById("horasabiertas").value)
			tiempoabierto += Number(document.getElementById("minutosabiertos").value / 60)
			let tiempotrabajado = Number(document.getElementById("horastrabajadas").value)
			tiempotrabajado += Number(document.getElementById("minutostrabajados").value / 60)
			let quiniela = Number(document.getElementById("quiniela").value)
			let ganancia = Math.round((tiempotrabajado * sueldoporhora) + (tiempotrabajado * quiniela) / tiempoabierto)
			if (ganancia) {
				document.getElementById("ganancia").innerHTML = "Tu ganancia de hoy es: $" + ganancia
			} else {
				document.getElementById("ganancia").innerHTML = "¡Error!"
			}
			document.getElementById("ganancia").style.display = "table-cell"
			document.querySelector("audio + audio").play()
		}
		addEventListener("keypress", function () {
			if (event.key === "Enter") {
				document.getElementById("submit").click()
			}
		})
		addEventListener("load", function () {
			document.querySelector("audio").volume = .25
			document.querySelector("audio").play()
		})
	</script>
</head>

<body>
	<form>
		<table>
			<tr>
				<th colspan="100%">¿Cuánto se abrió el almacén?</th>
			</tr>
			<tr>
				<td><input type="text" id="horasabiertas" placeholder="Horas" autofocus></td>
				<td><input type="text" id="minutosabiertos" placeholder="Minutos"></td>
			</tr>
			<tr>
				<th colspan="100%">¿Cuánto trabajaste?</th>
			</tr>
			<tr>
				<td><input type="text" id="horastrabajadas" placeholder="Horas"></td>
				<td><input type="text" id="minutostrabajados" placeholder="Minutos"></td>
			</tr>
			<tr>
				<th colspan="100%">¿Cuánta ganancia se hizo de Quiniela?</th>
			</tr>
			<tr>
				<td colspan="100%">
					<input type="text" id="quiniela" placeholder="Ganancia">
					<input type="submit" id="submit" onclick="event.preventDefault(), calculadoradeganancia()">
					<input type="reset">
				</td>
			</tr>
			<tr>
				<th colspan="100%" id="ganancia"></th>
			</tr>
		</table>
	</form>
	<audio controls>
		<source src="media/y2mate.com - Nightmare King Hollow Knight The Grimm Troupe.mp3">
	</audio>
	<audio>
		<source src="media/y2mate (mp3cut.net).mp3">
	</audio>
</body>

</html>
